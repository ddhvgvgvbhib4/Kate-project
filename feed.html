<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–µ–Ω—Ç–∞ - CyberSafe Net</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container feed-container">
        <!-- –®–∞–ø–∫–∞ —Å–æ—Ü—Å–µ—Ç–∏ -->
        <header class="feed-header">
            <h1>üõ°Ô∏è CyberSafe Net</h1>
            <nav>
                <div class="user-status">
                    <span id="welcomeUser">–ü—Ä–∏–≤–µ—Ç, –£—á–µ–Ω–∏–∫!</span>
                    <small id="loginStatus">–í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <span id="currentUsername">–£—á–µ–Ω–∏–∫</span></small>
                </div>
                <a href="index.html" class="btn btn-small">–í—ã–π—Ç–∏</a>
            </nav>
        </header>

        <main class="feed-main">
            <!-- –ï–¥–∏–Ω–∞—è –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <aside class="sidebar">
                <h3>üìö –¢–µ–º—ã –æ–±—É—á–µ–Ω–∏—è</h3>
                <div class="topics-list">
                    <a href="#post-fake-news" class="topic-link">üì∞ –î–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</a>
                    <a href="#post-phishing" class="topic-link">üé£ –§–∏—à–∏–Ω–≥ –∏ —Å—Å—ã–ª–∫–∏</a>
                    <a href="messages.html" class="topic-link">üí¨ –ö–∏–±–µ—Ä–±—É–ª–ª–∏–Ω–≥ –≤ —á–∞—Ç–∞—Ö</a>
                    <a href="#" class="topic-link" onclick="alert('–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">üõ°Ô∏è –ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ</a>
                    <a href="#" class="topic-link" onclick="alert('–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">üîí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</a>
                </div>
                
                <div class="quick-guide">
                    <h4>üìã –ë—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç–∫–∞</h4>
                    <p><strong>–ù–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å:</strong> 12+ —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã.</p>
                    <p><strong>–§–∏—à–∏–Ω–≥:</strong> –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º.</p>
                </div>
                
                <div class="user-card">
                    <h4>–¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h4>
                    <p>üîµ –ê–∫—Ç–∏–≤–µ–Ω: <span id="displayUsername">–£—á–µ–Ω–∏–∫</span></p>
                    <p id="userPoints">üèÜ –û—á–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: 0</p>
                    <div class="progress-bar-small">
                        <div class="progress-fill-small" id="progressFill"></div>
                    </div>
                    <small id="progressText">–ù–∞—á–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞–Ω–∏—è!</small>
                </div>
            </aside>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ª–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤ -->
            <section class="posts">
                <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å—Ç—ã –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>

                <!-- –ü–æ—Å—Ç 1 -->
                <article class="post" id="post1">
                    <div class="post-header">
                        <h3>–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ñ–µ–π–∫–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å?</h3>
                        <span class="post-meta">–ê–≤—Ç–æ—Ä: –ê–¥–º–∏–Ω | –¢–µ–º–∞: –ú–µ–¥–∏–∞–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å</span>
                    </div>
                    <div class="post-content">
                        <p><strong>–°–∏—Ç—É–∞—Ü–∏—è:</strong> –í —á–∞—Ç–µ –∫–ª–∞—Å—Å–∞ —Å–∫–∏–Ω—É–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ó–∞–≤—Ç—Ä–∞ –∏–∑-–∑–∞ —É—Ä–∞–≥–∞–Ω–∞ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è –≤—Å–µ –∑–∞–Ω—è—Ç–∏—è! –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç–µ —Å—Ä–µ–¥–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π!!"</p>
                        <p>–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç –∫–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –º–µ–¥–∏–∞–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p>
                        <div class="fake-alert" onclick="this.classList.toggle('expanded')">
                            <div class="fake-alert-header">
                                <strong>‚ö†Ô∏è –ü–æ—á–µ–º—É —ç—Ç–æ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Ñ–µ–π–∫?</strong> (–∫–ª–∏–∫–Ω–∏, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)
                            </div>
                            <div class="fake-alert-content">
                                <ol>
                                    <li><strong>–ü–∞–Ω–∏–∫–∞ –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç—å:</strong> –§–µ–π–∫–∏ —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞—é—Ç –æ—â—É—â–µ–Ω–∏–µ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏.</li>
                                    <li><strong>–ù–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫:</strong> –í–∞–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –æ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ —à–∫–æ–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫.</li>
                                    <li><strong>–ü—Ä–æ—Å—å–±–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å:</strong> –ù–∞—Å—Ç–æ—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∞–∫ –Ω–µ –ø–∏—à—É—Ç.</li>
                                    <li><strong>–ß—Ç–æ –¥–µ–ª–∞—Ç—å?</strong> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —à–∫–æ–ª—ã –∏–ª–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –∫–ª–∞—Å—Å–Ω–æ–º—É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <div class="post-poll">
                        <p><strong>–ê —Ç—ã –±—ã –ø–æ–≤–µ—Ä–∏–ª(–∞)?</strong></p>
                        <button class="poll-btn" onclick="votePost1(this, '–î–∞, —Å—Ä–∞–∑—É –±—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª(–∞) –º–∞–º–µ')">–î–∞, —Å—Ä–∞–∑—É –±—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª(–∞) –º–∞–º–µ</button>
                        <button class="poll-btn" onclick="votePost1(this, '–ó–∞—Å–æ–º–Ω–µ–≤–∞–ª—Å—è(–∞—Å—å) –±—ã –∏ —Ä–µ—à–∏–ª(–∞) –ø—Ä–æ–≤–µ—Ä–∏—Ç—å')">–ó–∞—Å–æ–º–Ω–µ–≤–∞–ª—Å—è(–∞—Å—å) –±—ã –∏ —Ä–µ—à–∏–ª(–∞) –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                        <button class="poll-btn" onclick="votePost1(this, '–ù–µ—Ç, —ç—Ç–æ —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–¥–∞')">–ù–µ—Ç, —ç—Ç–æ —è–≤–Ω–æ –Ω–µ–ø—Ä–∞–≤–¥–∞</button>
                        <p class="poll-result">–ì–æ–ª–æ—Å–æ–≤: <span id="votes-post1">0</span></p>
                    </div>
                </article>

                <!-- –û–±—É—á–∞—é—â–∏–µ –ø–æ—Å—Ç—ã -->
                <article class="post lesson-post" id="post-fake-news">
                    <div class="post-header">
                        <h3>üì∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h3>
                        <span class="post-meta">–¢–µ–º–∞: –ú–µ–¥–∏–∞–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å ‚Ä¢ –£—Ä–æ–∫ 1</span>
                    </div>
                    <div class="post-content">
                        <p><strong>–ü—Ä–∏–º–µ—Ä 1:</strong> "–í–∞–∫—Ü–∏–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∫! –î–æ–∫–∞–∑–∞–Ω–æ —É—á–µ–Ω—ã–º–∏. –ü–æ–¥–µ–ª–∏—Å—å!"</p>
                        <div class="interactive-task">
                            <p>–ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å?</p>
                            <div class="task-options">
                                <button class="task-btn wrong" onclick="checkAnswer(this, false, '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–µ–π–∫–∞!')">
                                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                                </button>
                                <button class="task-btn correct" onclick="checkAnswer(this, true, '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ —Å–∞–π—Ç–∞—Ö WHO –∏–ª–∏ –†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä–∞')">
                                    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö
                                </button>
                            </div>
                            <div class="task-feedback"></div>
                        </div>
                    </div>
                </article>

                <div id="adminPostsContainer">
                    <!-- –ü–æ—Å—Ç—ã –∞–¥–º–∏–Ω–∞ -->
                </div>
            </section>
        </main>

        <footer>
            <p>¬© CyberSafe Net - –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –í—Å–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–º—ã—à–ª–µ–Ω—ã.</p>
        </footer>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = localStorage.getItem('currentUser') || '–£—á–µ–Ω–∏–∫';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            document.getElementById('welcomeUser').textContent = `–ü—Ä–∏–≤–µ—Ç, ${currentUser}!`;
            document.getElementById('displayUsername').textContent = currentUser;
            document.getElementById('currentUsername').textContent = currentUser;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            updateProgressDisplay();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—Å—Ç—ã –∞–¥–º–∏–Ω–∞
            loadAdminPosts();
        });
        
        // –§—É–Ω–∫—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–∞ 1
        function votePost1(button, answer) {
            const pollResult = document.getElementById('votes-post1');
            let currentVotes = parseInt(pollResult.textContent);
            pollResult.textContent = currentVotes + 1;
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            const allButtons = button.parentElement.querySelectorAll('.poll-btn');
            allButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.6';
            });
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É
            button.style.backgroundColor = '#4CAF50';
            button.style.color = 'white';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
            saveStudentAnswer('post1', 'vote', answer);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –±–∞–ª–ª—ã
            addPoints(10, '–£—á–∞—Å—Ç–∏–µ –≤ –æ–ø—Ä–æ—Å–µ');
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –∑–∞–¥–∞–Ω–∏—è—Ö
        function checkAnswer(button, isCorrect, message) {
            const feedbackDiv = button.closest('.interactive-task').querySelector('.task-feedback');
            
            if (isCorrect) {
                feedbackDiv.style.backgroundColor = '#d4edda';
                feedbackDiv.style.color = '#155724';
                feedbackDiv.innerHTML = `<strong>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</strong><br>${message}<br><small>+10 –±–∞–ª–ª–æ–≤</small>`;
                addPoints(10, '–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç');
            } else {
                feedbackDiv.style.backgroundColor = '#f8d7da';
                feedbackDiv.style.color = '#721c24';
                feedbackDiv.innerHTML = `<strong>‚ùå –ù–µ —Å–æ–≤—Å–µ–º</strong><br>${message}`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                const correctBtn = button.parentElement.querySelector('.task-btn.correct');
                if (correctBtn) {
                    correctBtn.style.backgroundColor = '#4CAF50';
                    correctBtn.style.color = 'white';
                }
            }
            
            feedbackDiv.style.display = 'block';
            
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
            const allButtons = button.parentElement.querySelectorAll('.task-btn');
            allButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.6';
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
            saveStudentAnswer('fake-news', 'task', button.textContent.trim());
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤
        function addPoints(points, reason) {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            let userProgress = JSON.parse(localStorage.getItem('userProgress')) || {};
            if (!userProgress[currentUser]) {
                userProgress[currentUser] = { points: 0, answersCount: 0 };
            }
            
            userProgress[currentUser].points += points;
            userProgress[currentUser].answersCount += 1;
            localStorage.setItem('userProgress', JSON.stringify(userProgress));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateProgressDisplay();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`+${points} –±–∞–ª–ª–æ–≤! ${reason}`);
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        function saveStudentAnswer(lessonId, type, answer) {
            const answerData = {
                lessonId: lessonId,
                type: type,
                answer: answer,
                student: localStorage.getItem('currentUser') || '–ê–Ω–æ–Ω–∏–º',
                timestamp: new Date().toISOString()
            };
            
            let answers = JSON.parse(localStorage.getItem('studentAnswers')) || [];
            answers.push(answerData);
            localStorage.setItem('studentAnswers', JSON.stringify(answers));
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgressDisplay() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            const progress = JSON.parse(localStorage.getItem('userProgress')) || {};
            const userData = progress[currentUser];
            
            if (userData) {
                document.getElementById('userPoints').textContent = `üèÜ –û—á–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${userData.points}`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                const maxPoints = 100; // –ú–∞–∫—Å–∏–º—É–º –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const percentage = Math.min((userData.points / maxPoints) * 100, 100);
                document.getElementById('progressFill').style.width = `${percentage}%`;
                
                if (userData.points > 0) {
                    document.getElementById('progressText').textContent = `${percentage.toFixed(0)}% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ`;
                }
            }
        }
        
        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #4CAF50;
                color: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 3px 10px rgba(0,0,0,0.2);
                z-index: 1000;
                animation: slideInRight 0.3s;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.remove(), 3000);
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–æ–≤ –∞–¥–º–∏–Ω–∞
        function loadAdminPosts() {
            const container = document.getElementById('adminPostsContainer');
            const posts = JSON.parse(localStorage.getItem('cyberPosts')) || [];
            
            posts.forEach(post => {
                const postElement = document.createElement('article');
                postElement.className = 'post';
                postElement.innerHTML = `
                    <div class="post-header">
                        <h3>${post.title}</h3>
                        <span class="post-meta">–ê–≤—Ç–æ—Ä: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | ${post.date}</span>
                    </div>
                    <div class="post-content">
                        <p>${post.content}</p>
                    </div>
                `;
                container.appendChild(postElement);
            });
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª—å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>