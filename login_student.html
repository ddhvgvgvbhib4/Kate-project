<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞ - CyberSafe Net</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container login-container">
        <header>
            <h1>üõ°Ô∏è –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ CyberSafe Net</h1>
        </header>

        <main class="login-main">
            <form id="registerForm" class="login-form" onsubmit="return registerUser(event)">
                <h2>–°–æ–∑–¥–∞–π —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</h2>
                <div class="form-group">
                    <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                    <input type="text" id="username" name="username" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ö–∏–±–µ—Ä_–ò–≤–∞–Ω">
                </div>
                <div class="form-group">
                    <label for="password">–ü—Ä–∏–¥—É–º–∞–π –ø–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="password" name="password" required placeholder="–í–≤–æ–¥–∏ –∑–¥–µ—Å—å..."
                           oninput="checkPasswordStrength(this.value)">
                    <div class="password-hints">
                        <p><strong>–ü–∞–º—è—Ç–∫–∞ –ø–æ –ø–∞—Ä–æ–ª—é:</strong></p>
                        <ul>
                            <li id="hint-length">üî¥ –ù–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤</li>
                            <li id="hint-uppercase">üî¥ –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞ (A-Z)</li>
                            <li id="hint-lowercase">üî¥ –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞ (a-z)</li>
                            <li id="hint-digit">üî¥ –•–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞ (0-9)</li>
                            <li id="hint-special">üî¥ –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª (!@#$%^&*)</li>
                        </ul>
                    </div>
                </div>
                <button type="submit" class="btn" id="submitBtn" disabled>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤–æ–π—Ç–∏</button>
                <p class="login-link">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="alert('–í –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ –ø—Ä–æ—Å—Ç–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è')">–í–æ–π–¥–∏ –∑–¥–µ—Å—å</a></p>
            </form>

            <div class="password-feedback">
                <div id="weakFeedback" class="feedback hidden">
                    <h3>‚ùå –ù–æ-–Ω–æ-–Ω–æ! –ü–∞—Ä–æ–ª—å —Å–ª–∞–±—ã–π!</h3>
                    <p>–ò—Å–ø—Ä–∞–≤—å –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –∫—Ä–∞—Å–Ω—ã–º –ø—É–Ω–∫—Ç—ã, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å.</p>
                </div>
                <div id="strongFeedback" class="feedback hidden">
                    <h3>‚úÖ –û—Ç–ª–∏—á–Ω–æ! –ü–∞—Ä–æ–ª—å –Ω–∞–¥–µ–∂–Ω—ã–π!</h3>
                    <p><strong>–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å?</strong> –≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π ‚Äî –¥–ª–∏–Ω–Ω—ã–π, —Å–ª–æ–∂–Ω—ã–π –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π. –û–Ω –ø–æ—Ö–æ–∂ –Ω–∞ –∫—Ä–µ–ø–∫–∏–π –∑–∞–º–æ–∫ –Ω–∞ —Ç–≤–æ–µ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –¥–≤–µ—Ä–∏. –¢–∞–∫–æ–π –ø–∞—Ä–æ–ª—å –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫—É –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å.</p>
                    <p>–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è!</p>
                </div>
            </div>
        </main>

        <footer>
            <button class="btn btn-back" onclick="window.location.href='index.html'">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </footer>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        function checkPasswordStrength(password) {
            const hints = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                digit: /\d/.test(password),
                special: /[!@#$%^&*]/.test(password)
            };

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏
            document.getElementById('hint-length').style.color = hints.length ? 'green' : 'red';
            document.getElementById('hint-uppercase').style.color = hints.uppercase ? 'green' : 'red';
            document.getElementById('hint-lowercase').style.color = hints.lowercase ? 'green' : 'red';
            document.getElementById('hint-digit').style.color = hints.digit ? 'green' : 'red';
            document.getElementById('hint-special').style.color = hints.special ? 'green' : 'red';

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
            const isStrong = Object.values(hints).every(hint => hint === true);
            const submitBtn = document.getElementById('submitBtn');

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            if (password.length === 0) {
                document.getElementById('weakFeedback').classList.add('hidden');
                document.getElementById('strongFeedback').classList.add('hidden');
                submitBtn.disabled = true;
            } else if (isStrong) {
                document.getElementById('weakFeedback').classList.add('hidden');
                document.getElementById('strongFeedback').classList.remove('hidden');
                submitBtn.disabled = false;
            } else {
                document.getElementById('weakFeedback').classList.remove('hidden');
                document.getElementById('strongFeedback').classList.add('hidden');
                submitBtn.disabled = true;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" (–∏–º–∏—Ç–∞—Ü–∏—è)
        // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
function registerUser(event) {
    event.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ localStorage
    localStorage.setItem('currentUser', username);
    localStorage.setItem('userRole', 'student');
    
    // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
    let existingUsers = JSON.parse(localStorage.getItem('existingUsers')) || [];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    if (!existingUsers.find(u => u.username === username)) {
        existingUsers.push({
            username: username,
            password: password, // –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –ù–ï —Ö—Ä–∞–Ω–∏–º –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ!
            points: 0
        });
        localStorage.setItem('existingUsers', JSON.stringify(existingUsers));
    }
    
    // –°–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    let userProgress = JSON.parse(localStorage.getItem('userProgress')) || {};
    if (!userProgress[username]) {
        userProgress[username] = {
            points: 0,
            answersCount: 0,
            lastActive: new Date().toISOString()
        };
        localStorage.setItem('userProgress', JSON.stringify(userProgress));
    }
    
    alert(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${username}! –¢—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω(–∞).\n\n–¢–≤–æ–π –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–ª: 0\n–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –±–∞–ª–ª—ã, –æ—Ç–≤–µ—á–∞—è –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!`);
    window.location.href = 'feed.html';
    return false;
}
    </script>
</body>
</html>